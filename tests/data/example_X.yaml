pattern:
  - '*.maf'
recursive: false
format: 'CSV'

annotation:
  - type: 'internal'
    field: 'CHROMOSOME'
    fieldSource:
      - 'Chromosome'
      - 'Chr'
      - 'Chrom'
      - 'Chromosome_Name'
      - '#chrom'
    function: "lambda c: c.upper().replace('CHR', '').replace('23', 'X').replace('24', 'Y')"

  - type: 'internal'
    field: 'POSITION'
    fieldSource:
      - 'Position'
      - 'Start'
      - 'Start_Position'
      - 'Pos'
      - 'Chromosome_Start'

  - type: 'internal'
    field: 'STRAND'
    fieldSource:
      - 'Strand'
      - 'Chromosome_Strand'
    function: "lambda s: '-' if s in ['-', '0', '-1'] else '+' if s in ['+', '1', '+1'] else None"


  - type: 'internal'
    field: 'REF'
    fieldSource:
      - 'Ref'
      - 'Reference_Allele'
      - 'Reference'
      - 'Reference_Genome_Allele'

  - type: 'internal'
    field: 'ALT'
    fieldSource:
      - 'Alt'
      - 'Tumor_Seq_Allele2'
      - 'Variant'
      - 'Alternative'
      - 'Mutated_To_Allele'

  - type: 'internal'
    field: 'SAMPLE'
    fieldSource:
      - 'Sample'
      - 'Tumor_Sample_Barcode'

  - type: 'internal'
    field: 'DONOR'
    fieldSource:
      - 'Tumor_Sample_Barcode'
    function:  "lambda s: \"-\".join(s.split(\"-\")[:3]) if s.startswith(\"TCGA\") else None"


